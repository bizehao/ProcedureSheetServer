#pragma once

#include "../base/BaseController.hpp"

class CommController :BaseController {
public:


	CommController(cinatra::http_server& server, UserMapper& userMapper) : BaseController(server, userMapper) {};

	~CommController() {};

	void exec() override;

private:

	////////////////////////////////////////////////////////////////////////////////////////////////////
	/// <summary>	获取邮箱验证码. </summary>
	///
	/// <remarks>	Bzh, 2019/11/8. </remarks>
	///
	/// <param name="to_user">	[in,out] 邮箱地址 </param>
	///
	/// <returns>	The email code. </returns>
	////////////////////////////////////////////////////////////////////////////////////////////////////

	std::string getEmailCode(std::string& email);

	////////////////////////////////////////////////////////////////////////////////////////////////////
	/// <summary>	获取语言类型列表   </summary>
	///
	/// <remarks>	Bzh, 2019/11/18. </remarks>
	///
	/// <returns>	The language list. </returns>
	////////////////////////////////////////////////////////////////////////////////////////////////////

	std::string getLanguageList();

	////////////////////////////////////////////////////////////////////////////////////////////////////
	/// <summary>	上传图片  </summary>
	///
	/// <remarks>	Bzh, 2019/11/20. </remarks>
	///
	/// <param name="req">	[in,out] The request. </param>
	/// <param name="res">	[in,out] The resource. </param>
	////////////////////////////////////////////////////////////////////////////////////////////////////

	void uploadMultipart(cinatra::request& req, cinatra::response& res, std::string name);
};